<!--Section: Docs content-->
<section class="mdb-docs-content-pro">
  <!--Section: Introduction-->
  <section id="section-introduction">
    <!-- Main title -->
    <h2 class="h1 fw-bold">
      <?= $data_var['main_title']; ?>
      <a class="btn btn-danger" href="https://mdbootstrap.com/docs/standard/pro/" role="button"
        >MDB Pro component <i class="far fa-gem ms-1"></i
      ></a>
    </h2>

    <!-- Seo title -->
    <h1 class="h6"><?= $data_var['seo_title']; ?></h1>

    <!-- Description -->
    <p>MDB Integration - Admin Dashboard built with the latest Bootstrap 5, .NET Core, ASP.NET Core & Material Design 2.0</p>
    <p><?= $data_var['description']; ?></p>

    <span class="dpl-newmdb-docs-alert-advanced"></span>
  </section>
  <!--Section: Introduction-->

  <hr class="my-5" />

  <!--Section: Prerequisites-->
  <section id="section-prerequisites">
    <!-- Section title -->
    <h2 class="mb-4">Prerequisites</h2>

    <p>Before starting the project make sure to install the following utilities:</p>

    <ul>
      <li><a href="https://dotnet.microsoft.com/download" target="_blank">.NET Core</a> (3.1.x)</li>
      <li>
        <a href="https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet" target="_blank"
          >Entity Framework Core .NET Command-line Tools</a
        >
        (3.1.x)
      </li>
      <li>
        Code editor. We recommend
        <a href="https://code.visualstudio.com/" target="_blank">VSCode</a>
      </li>
    </ul>
  </section>
  <!--Section: Prerequisites-->

  <hr class="my-5" />

  <!--Section: Installation-->
  <section id="section-installation">
    <!-- Section title -->
    <h2 class="mb-4">Installation</h2>

    <p>Once you've downloaded our template, you need to install required packages.</p>
    <p>Navigate to your project and in your terminal run:</p>

    <!--Section: Code-->
    <section class="mb-4">
      <mdbsnippet>
        <code data-lang="bash" data-name="terminal"> dotnet restore </code>
      </mdbsnippet>
    </section>
    <!--Section: Code-->
  </section>
  <!--Section: Installation-->

  <hr class="my-5" />

  <!--Section: Database COnfiguration-->
  <section id="section-database">
    <!-- Section title -->
    <h2 class="mb-4">Database configuration</h2>

    <hr class="my-5" />

    <section id="subsection-create-db">
      <h3><strong>1.</strong> Create a database</h3>

      <p>
        For our app to work properly, we need to create a MySQL database (in this example we call it
        dashboard, but you can change it later).
      </p>

      <p>
        In this instruction we won't get into details about MySQL databases and how to set them up -
        you can learn more here:
      </p>

      <ul>
        <li><a href=" https://dev.mysql.com/doc/" nofollow>MySQL docs</a></li>
        <li><a href="https://mariadb.org/" nofollow>MariaDB</a></li>
      </ul>
    </section>

    <hr class="my-5" />

    <section id="subsection-connection-string">
      <h3><strong>2.</strong> Connection string</h3>

      <p>
        To connect with a database, we need to set up the connection string in the appsettings.json
        file:
      </p>

      <!--Section: Code-->
      <section class="mb-4">
        <mdbsnippet>
          <code data-lang="json" data-name="appsettings.json">
            "ConnectionStrings": { "AppConnection":
            "server=localhost;user=test;password=test;database=dashboard" }
          </code>
        </mdbsnippet>
      </section>
      <!--Section: Code-->

      <p>
        Replace user and password values with either your root user (not recommended!) or
        credentials created for this database (recommended).
      </p>

      <p class="note note-primary">
        <string>Note:</string> The default port is set to 3306 - if you wish to change that, you
        need to specify the port's value in your connection string.
      </p>

      <p>
        Learn more about connection strings
        <a href="https://mysqlconnector.net/connection-options/" nofollow>here</a>.
      </p>
    </section>

    <hr class="my-5" />

    <section id="subsection-migrations">
      <h3><strong>3.</strong> Apply migration</h3>

      <p>
        Now, when everything is set, we can update the database to match our initial migration. We
        will be using Entity Framework Core tools from now on (learn more
        <a href="https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet" nofollow>here</a
        >).
      </p>

      <p>In your terminal run:</p>

      <!--Section: Code-->
      <section class="mb-4">
        <mdbsnippet>
          <code data-lang="bash" data-name="terminal"> dotnet-ef database update </code>
        </mdbsnippet>
      </section>
      <!--Section: Code-->

      <p>
        Once you refresh your database, you should see 4 new tables (roles, users, traffic data and
        migration history).
      </p>

      <p>
        Every time you wish to update your database (change/add model), you need to create a new
        migration:
      </p>

      <!--Section: Code-->
      <section class="mb-4">
        <mdbsnippet>
          <code data-lang="bash" data-name="terminal">
            dotnet-ef migrations add migrationName dotnet-ef database update
          </code>
        </mdbsnippet>
      </section>
      <!--Section: Code-->
    </section>
  </section>
  <!--Section: Database COnfiguration-->

  <hr class="my-5" />

  <!--Section: Run the application-->
  <section id="section-run-app">
    <!-- Section title -->
    <h2 class="mb-4">Run the application</h2>

    <p>Now it's time to run our app. In your console run the following command:</p>
    <!--Section: Code-->
    <section class="mb-4">
      <mdbsnippet>
        <code data-lang="bash" data-name="terminal"> dotnet run </code>
      </mdbsnippet>
    </section>
    <!--Section: Code-->

    <p class="note note-primary">
      Note: The app will start on two ports - 5000 (http) and 5001 (https).
    </p>
  </section>
  <!--Section: Run the application-->

  <hr class="my-5" />

  <!--Section: Usage-->
  <section id="section-usage">
    <!-- Section title -->
    <h2 class="mb-4">Usage</h2>

    <p>Our template provides several functionalities for your app out of the box:</p>

    <hr class="my-5" />

    <section id="subsection-login">
      <h3><strong>1.</strong> Login / Logout</h3>

      <p>
        The application is accessible only to a logged-in user - the application uses cookies to
        authorize the user and check credentials (admin has additional privileges).
      </p>

      <p>Logout removes cookies and redirects user to a login page.</p>
    </section>

    <hr class="my-5" />

    <section id="subsection-registration">
      <h3><strong>2.</strong> Registration</h3>

      <p>
        You can add new users with the registration form. Although it's not possible to register
        several users with one email address, the email confirmation functionality is not provided.
      </p>
    </section>

    <hr class="my-5" />

    <section id="subsection-user-profile">
      <h3><strong>3.</strong> User Profile</h3>

      <p>
        Each user can update his user profile (avatar, username, password) using forms on the User
        Profile page.
      </p>
    </section>

    <hr class="my-5" />

    <section id="subsection-user-management">
      <h3><strong>4.</strong> User Management (admin only)</h3>

      <p>
        User with the admin privileges can update information about other users. In our basic app,
        we can change the user's credentials.
      </p>
    </section>
  </section>
  <!--Section: Usage-->

  <hr class="my-5" />

  <!--Section: Defaults-->
  <section id="section-defaults">
    <!-- Section title -->
    <h2 class="mb-4">Defaults</h2>

    <p>The application seeds the default data when applying initial migration.</p>
    <p>You can manage this data in <code>Data/DataContext.cs</code></p>

    <hr class="my-5" />

    <section id="subsection-users">
      <h3><strong>1.</strong> Users</h3>

      <p><strong>Admin:</strong></p>

      <!--Section: Code-->
      <section class="mb-4">
        <mdbsnippet>
          <code data-lang="json" data-name="Defaults">
            { name: "Admin", email: "admin@mdbootstrap.com", password: "admin", roleId: 1 }
          </code>
        </mdbsnippet>
      </section>
      <!--Section: Code-->

      <p><strong>User:</strong></p>

      <!--Section: Code-->
      <section class="mb-4">
        <mdbsnippet>
          <code data-lang="json" data-name="Defaults">
            { name: "User", email: "user@mdbootstrap.com", password: "user", roleId: 2 }
          </code>
        </mdbsnippet>
      </section>
      <!--Section: Code-->
    </section>

    <hr class="my-5" />

    <section id="subsection-roles">
      <h3><strong>2.</strong> Roles</h3>

      <ul>
        <li><strong>Admin</strong> (id: 1)</li>
        <li><strong>User</strong> (id: 2)</li>
      </ul>
    </section>

    <hr class="my-5" />

    <section id="subsection-traffic">
      <h3><strong>3.</strong> Traffic Data</h3>

      <p>Five randomly generated entries for General Dashboard.</p>
    </section>
  </section>
  <!--Section: Defaults-->

  <hr class="my-5" />

  <!--Section: Backend features-->
  <section id="section-backend">
    <!-- Section title -->
    <h2 class="mb-4">Backend features</h2>

    <hr class="my-5" />

    <section id="subsection-orm">
      <h3><strong>1. </strong>ORM & Models</h3>

      <p>
        The application uses the Entity Framework Core (MySQL). You can manage DbContext in
        Data/DataContext.cs
      </p>

      <p>Models available in your app out of the box:</p>
      <ul>
        <li>Users</li>
        <li>Role</li>
        <li>TrafficData</li>
      </ul>
    </section>

    <hr class="my-5" />

    <section id="subsection-dto">
      <h3><strong>2. </strong>Data Transfer Objects</h3>

      <p>
        Creating Data Transfer Objects is important for frontend-backend communication, as some
        field should not be accessible on the client-side (f.e. password).
      </p>

      <p>
        To map easily data from Model to DTO (and another way around), define required profiles
        (example: Profiles/UserProfile.cs).
      </p>
    </section>

    <hr class="my-5" />

    <section id="subsection-controllers">
      <h3><strong>3. </strong>Controllers & routes</h3>
      <p><strong>Controllers:</strong></p>
      <ul>
        <li><code>HomeController</code></li>
        <li><code>AuthController</code></li>
        <li><code>UserController</code></li>
        <li><code>PerformanceController</code></li>
      </ul>

      <hr class="my-4" />

      <h4>Home Controller</h4>
      <p>Rendering views / redirecting unauthorized users.</p>
      <p><strong>Routes:</strong></p>
      <ul>
        <li><code>/Home/UserManagement</code></li>
        <li><code>/Home/Index</code></li>
        <li><code>/Home/UserProfile</code></li>
        <li><code>/Home/Dashboard</code></li>
      </ul>

      <hr class="my-4" />

      <h4>Auth Controller</h4>
      <p>Authorization management</p>
      <p><strong>Routes & actions:</strong></p>
      <ul>
        <li><code>/auth/login</code> (POST, request body: loginDTO)</li>
        <li><code>/auth/register</code> (POST, request body: createUserDTO)</li>
        <li><code>Logout()</code></li>
      </ul>

      <hr class="my-4" />

      <h4>Performance Controller</h4>
      <p>The controller provides data for the Dashboard View.</p>
      <p><strong>Routes:</strong></p>
      <ul>
        <li><code>/performance/traffic</code> (GET)</li>
        <li>
          <code>/performance/traffic</code> (POST) - adds randomly generated entry to the traffic
          data table
        </li>
      </ul>
    </section>
  </section>
  <!--Section: Backend features-->

  <hr class="my-5" />

  <!--Section: Frontend features-->
  <section id="section-frontend">
    <!-- Section title -->
    <h2 class="mb-4">Frontend features</h2>

    <hr class="my-5" />

    <section id="subsection-views">
      <h3><strong>1. </strong>Views</h3>
      <p>Views for your application:</p>
      <ul>
        <li><strong>Index</strong> - Login / Register form</li>
        <li><strong>Dashboard</strong> - General Dashboard</li>
        <li><strong>UserManagement</strong> - Admin panel</li>
        <li><strong>UserProfile</strong> - User info & password management</li>
      </ul>
    </section>

    <hr class="my-5" />

    <section id="subsection-layouts">
      <h3><strong>2. </strong>Layouts</h3>
      <p>There are two layouts included in the project:</p>
      <ul>
        <li><strong>Layout</strong> (main layout for authorized users)</li>
        <li><strong>LoginLayout</strong> (layout for unlogged user, without navigation)</li>
      </ul>
    </section>

    <hr class="my-5" />

    <section id="subsection-wwwroot">
      <h3><strong>3. </strong>wwwroot folder</h3>
      <ul>
        <li><code>/assets</code> - additional files, for example default avatar</li>
        <li><code>/mdb</code> - MDB 5 files</li>
        <li><code>/js</code> - js files for views</li>
        <li><code>layout.css</code> - custom css for layouts</li>
      </ul>
    </section>
  </section>
  <!--Section: Frontend features-->
</section>
<!--Section: Docs content-->
